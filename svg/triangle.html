<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Triangle</title>
        <style rel="stylesheet" type="text/css">
            #svg{
                width: 580px;
                height: 200px;
                background: #E2E2E2;
            }
        </style>
    </head>
    <body>
        <ul class="tools">
            <li type="triangle">triangle</li>
        </ul>
        <div id="svg">
            <svg width="580" height="200" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>
        </div>
        <script src="../base/jquery-1.7.2.js"></script>
        <script>
            var $svg = $('#svg');
            $('.tools').delegate('li', 'mousedown', function(e){
                draw( this.type );
            });
            function draw( type ){
                if( type === 'triangle' ){
                    var html = $svg.html();
                    html = html.replace('</svg>', '');
                    html += '<path type="triangle" d="M100 20L20 158.56L180 158.56z" stroke="rgb(255,204,0)" stroke-width="3" fill="none"></path>' + '</svg>';
                    $svg.html(html)
                }
            }
            $svg.mouseover(function(e){
                var target = e.target;
                if( target.getAttribute('type') ){
                    target.setAttribute('stroke-width', 10);
                }
            });
            $svg.mouseout(function(e){
                var target = e.target;
                if( target.getAttribute('type') ){
                    target.setAttribute('stroke-width', 3);
                }
            });
            $svg.click(function(e){
                var target = e.target;
                if( target.getAttribute('type') === 'triangle' ){
                }
            });
        </script>
    </body>
</html>